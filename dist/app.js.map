{"version":3,"sources":["webpack:///webpack/bootstrap e79c9145e0eea4f20c68","webpack:///./src/element.js","webpack:///./src/WebDesktop.js","webpack:///./src/designBoard.js","webpack:///./src/pixelshop.js","webpack:///./src/style.css","webpack:///./src/windowsUI.css","webpack:///./src/iconfont/iconfont.css","webpack:///./src/font-awesome-4.7.0/css/font-awesome.min.css","webpack:///./src/color-picker/color-picker.min.css","webpack:///./src/start.js","webpack:///./src/common.js","webpack:///./src/tool.js","webpack:///./src/color.js","webpack:///./src/color-picker/color-picker.min.js","webpack:///./src/layer.js","webpack:///./src/hotkey.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;AC7DA;AAAA;AACA;AACA,oBAAoB,OAAO;AAC3B,aAAa,EAAE,EAAE,cAAc;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qBAAqB,kBAAkB;AACvC;AACA;AACA;;AAEA;;AAEA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,OAAO;AAC5B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA,4CAA4C;AAC5C;AACA;AACA,KAAK,OAAO;AACZ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,QAAQ;AAC5B,uBAAuB,OAAO;AAC9B,sBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF,C;;;;;;;;;AC/GA;AAAA;;AAEA;AACA;AACA,oBAAoB,OAAO;AAC3B,aAAa,EAAE,EAAE,cAAc;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,MAAM;AACvB,oBAAoB,SAAS;AAC7B;AACA;AACA,qBAAqB,mBAAmB;AACxC;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,OAAO;AAC5B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA,yCAAyC;AACzC;AACA;AACA,EAAE,OAAO;AACT;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,QAAQ;AAC5B,uBAAuB,OAAO;AAC9B,sBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB,OAAO;AACvB,mBAAmB,OAAO;AAC1B,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA,qBAAqB,OAAO;AAC5B,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA,sBAAsB,qBAAqB;AAC3C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,OAAO;AAC5B,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;;AAEA;AACA;AACA,cAAc,OAAO;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,kBAAkB;AACjC,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA,mBAAmB,iBAAiB;AACpC,sBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA,gEAAgE;AAChE;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,iC;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;AACA;AACA,wBAAwB;AACxB,wCAAwC;AACxC,gDAAgD;AAChD,2CAA2C;;AAE3C;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,QAAQ;AAC7B;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA,qBAAqB,OAAO;AAC5B,cAAc,QAAQ;AACtB;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA,qBAAqB,OAAO;AAC5B,cAAc,eAAe;AAC7B;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,GAAG;AACH;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;ACvgBU;AACV;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,8E;;;;;;;;;;;;;;;;;;;;;;;;;ACjQA;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEc;AACmC;AACjD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B,iBAAiB;AAC7C,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAE;AACF;;;;AAIA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oF;;;;;;ACpLA,yC;;;;;;ACAA,yC;;;;;;ACAA,yC;;;;;;ACAA,yC;;;;;;ACAA,yC;;;;;;;;ACAU;;AAEV;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC7BA;AACA;AACA;;;;AAIA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB,OAAO;AACvB,mBAAmB,OAAO;AAC1B,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;;;AAIA;AACA;AACA,qBAAqB,OAAO;AAC5B,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA,sBAAsB,qBAAqB;AAC3C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,OAAO;AAC5B,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF,C;;;;;;;;;;;AC/Hc;AACd;AACA;AACoB;;AAEpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA,gF;;;;;;;;;;;;ACtKc;AACd;AACqB;;AAErB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,gE;;;;;;ACxOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,cAAc,kBAAkB,cAAc,yBAAyB,cAAc,yBAAyB,cAAc,6BAA6B,kBAAkB,qBAAqB,gBAAgB,yBAAyB,cAAc,qBAAqB,cAAc,4CAA4C,iGAAiG,mBAAmB,MAAM,mBAAmB,MAAM,mBAAmB,MAAM,mBAAmB,MAAM,mBAAmB,MAAM,mBAAmB,mCAAmC,cAAc,eAAe,cAAc,8FAA8F,UAAU,WAAW,MAAM,gCAAgC,MAAM,wBAAwB,MAAM,wBAAwB,cAAc,cAAc,+BAA+B,6CAA6C,cAAc,eAAe,cAAc,kGAAkG,cAAc,sCAAsC,cAAc,+CAA+C,cAAc,sCAAsC,cAAc,iBAAiB,4KAA4K,EAAE,SAAS,EAAE,MAAM,iFAAiF,2GAA2G,aAAa,yBAAyB,sBAAsB,oBAAoB,aAAa,uBAAuB,iBAAiB,sFAAsF,eAAe,uBAAuB,eAAe,uBAAuB,eAAe,uBAAuB,eAAe,mCAAmC,eAAe,aAAa,oBAAoB,kBAAkB,iBAAiB,uBAAuB,IAAI,kCAAkC,kBAAkB,iBAAiB,uBAAuB,IAAI,kCAAkC,gBAAgB,yFAAyF,OAAO,iBAAiB,cAAc,yDAAyD,2BAA2B,iBAAiB,iBAAiB,OAAO,SAAS,gBAAgB,KAAK,2BAA2B,EAAE,SAAS,cAAc,sBAAsB,cAAc,cAAc,+BAA+B,EAAE,kCAAkC,cAAc,sBAAsB,cAAc,IAAI,kBAAkB,mCAAmC,wCAAwC,gBAAgB,4CAA4C,SAAS,IAAI,kBAAkB,qBAAqB,uCAAuC,0CAA0C,SAAS,gBAAgB,wEAAwE,aAAa,oBAAoB,gBAAgB,cAAc,mCAAmC,uCAAuC,cAAc,2BAA2B,yDAAyD,cAAc,sBAAsB,yCAAyC,cAAc,uCAAuC,mFAAmF,cAAc,gKAAgK,cAAc,gFAAgF,mGAAmG,cAAc,uEAAuE,cAAc,0EAA0E,4DAA4D,4DAA4D,2EAA2E,8BAA8B,sBAAsB,0DAA0D,mBAAmB,0GAA0G,mBAAmB,6FAA6F,uDAAuD,aAAa,eAAe,wDAAwD,6HAA6H,uCAAuC,8QAA8Q,8GAA8G,yBAAyB,eAAe,qBAAqB,sBAAsB,+FAA+F,yKAAyK,mBAAmB,kDAAkD,mBAAmB,YAAY,6FAA6F,cAAc,GAAG,EAAE,uB;;;;;;;;ACR12L;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;;AChBc;;AAEd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gFAAgF,4BAA4B;AAC5G;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,QAAQ;;AAER;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ,QAAQ;AACR;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,iE","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e79c9145e0eea4f20c68","/**\r\n * query选择器\r\n * @param selector {String} 选择器\r\n * @returns {*} {Node/NodeList} 若为id选择器，返回单个元素，否则返回NodeList\r\n */\r\nexport function $ (selector) {\r\n\treturn document.querySelector(selector);\r\n};\r\n\r\nexport function $$ (selector) {\r\n\treturn document.querySelectorAll(selector);\r\n}\r\n\r\nNodeList.prototype.forEach = function (callback) {\r\n\tfor (var i = 0,item; item = this[i++];) {\r\n\t\tcallback(item, i - 1);\r\n\t}\r\n};\r\n\r\nHTMLCollection.prototype.forEach = NodeList.prototype.forEach;\r\n\r\n/**\r\n * 给某个元素添加类名\r\n * @param className {string} 要添加的类名\r\n */\r\nElement.prototype.addClass= function (className) {\r\n    if (this.className === '') {\r\n        this.className = className;\r\n    } else {\r\n        this.className += ' ' + className;\r\n    }\r\n};\r\n\r\n/**\r\n * 移除元素的某个类名\r\n * @param className {string} 要移除的类名\r\n * @returns {boolean} 如果找不到该类名则返回 false，成功移除返回 true\r\n */\r\nElement.prototype.removeClass = function (className) {\r\n    var regExpMatch = new RegExp('^' + className + '$|^'\r\n        + className + ' +| +'\r\n        + className + '$| +'\r\n        + className + ' +');\r\n\r\n    if (this.className.match(regExpMatch)) {        //找到符合的类名\r\n        this.className = this.className.replace(regExpMatch, '');\r\n        return true;\r\n    } else {        //找不到该类名\r\n        return false;\r\n    }\r\n};\r\n\r\nElement.prototype.disabled = function () {\r\n\tthis.addClass('disabled');\r\n}\r\n\r\nElement.prototype.enable = function () {\r\n\tthis.removeClass('disabled');\r\n}\r\n\r\n/**\r\n * 获取网页元素相对浏览器左部的距离\r\n * @returns {number} 网页元素相对浏览器左部的距离\r\n */\r\nElement.prototype.getViewOffsetLeft = function () {\r\n\tvar actualLeft = this.offsetLeft;\r\n\tvar current = this.offsetParent;\r\n\twhile (current !== null) {\r\n\t\tactualLeft += current.offsetLeft;\r\n\t\tcurrent = current.offsetParent;\r\n\t}\r\n\tif (document.compatMode == \"BackCompat\") {\r\n\t\tvar elementScrollLeft = document.body.scrollLeft;\r\n\t} else {\r\n\t\tvar elementScrollLeft = document.documentElement.scrollLeft;\r\n\t}\r\n\treturn actualLeft - elementScrollLeft;\r\n};\r\n\r\n/**\r\n * 获取网页元素相对浏览器顶部的距离\r\n * @returns {number} 网页元素相对浏览器顶部的距离\r\n */\r\nElement.prototype.getViewOffsetTop = function () {\r\n\tvar actualTop = this.offsetTop;\r\n\tvar current = this.offsetParent;\r\n\twhile (current !== null) {\r\n\t\tactualTop += current. offsetTop;\r\n\t\tcurrent = current.offsetParent;\r\n\t}\r\n\tif (document.compatMode == \"BackCompat\") {\r\n\t\tvar elementScrollTop = document.body.scrollTop;\r\n\t} else {\r\n\t\tvar elementScrollTop = document.documentElement.scrollTop;\r\n\t}\r\n\treturn actualTop - elementScrollTop;\r\n};\r\n\r\n/**\r\n * 让某个元素播放一次动画（通过切换类名实现），可多次触发\r\n * @param $element {Element} 要播放动画的元素\r\n * @param classBefore {String} 播放之前，没有animation属性的class\r\n * @param classAfter {String} 带有animation属性的class\r\n */\r\nElement.prototype.playAnimation = function ( classBefore, classAfter) {\r\n\tthis.className = classBefore;\r\n\twindow.requestAnimationFrame(function(time) {\r\n\t\twindow.requestAnimationFrame(function(time) {\r\n\t\t\tthis.className = classAfter;\r\n\t\t});\r\n\t});\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/element.js\n// module id = 0\n// module chunks = 0","//常用函数封装\r\n\r\n/**\r\n * query选择器\r\n * @param selector {String} 选择器\r\n * @returns {*} {Node/NodeList} 若为id选择器，返回单个元素，否则返回NodeList\r\n */\r\nvar $$ = function (selector) {\r\n\treturn document.querySelectorAll(selector);\r\n};\r\n\r\n/**\r\n * 遍历数组或类数组并对每项进行操作\r\n * @param array {Array} 要遍历的数组\r\n * @param callback {Function} 对每项进行处理的函数\r\n */\r\nvar forEach = function (array, callback) {\r\n\tfor (var i = 0,item; item = array[i++];) {\r\n\t\tcallback(item, i - 1);\r\n\t}\r\n};\r\n\r\n/**\r\n * 给某个元素添加类名\r\n * @param className {string} 要添加的类名\r\n */\r\nElement.prototype.addClass= function (className) {\r\n\tif (this.className === '') {\r\n\t\tthis.className = className;\r\n\t} else {\r\n\t\tthis.className += ' ' + className;\r\n\t}\r\n};\r\n\r\n/**\r\n * 移除元素的某个类名\r\n * @param className {string} 要移除的类名\r\n * @returns {boolean} 如果找不到该类名则返回 false，成功移除返回 true\r\n */\r\nElement.prototype.removeClass = function (className) {\r\n\tvar regExpMatch = new RegExp('^' + className + '$|^'\r\n\t\t+ className + ' +| +'\r\n\t\t+ className + '$| +'\r\n\t\t+ className + ' +');\r\n\t\r\n\tif (this.className.match(regExpMatch)) {        //找到符合的类名\r\n\t\tthis.className = this.className.replace(regExpMatch, '');\r\n\t\treturn true;\r\n\t} else {        //找不到该类名\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\n/**\r\n * 让某个元素播放一次动画（通过切换类名实现），可多次触发\r\n * @param $element {Element} 要播放动画的元素\r\n * @param classBefore {String} 播放之前，没有animation属性的class\r\n * @param classAfter {String} 带有animation属性的class\r\n */\r\nfunction playAnimation($element, classBefore, classAfter) {\r\n\t$element.className = classBefore;\r\n\twindow.requestAnimationFrame(function() {\r\n\t\twindow.requestAnimationFrame(function() {\r\n\t\t\t$element.className = classAfter;\r\n\t\t});\r\n\t});\r\n}\r\n\r\n/**\r\n * 使某个元素可以被鼠标拖动来改变位置\r\n * @param $enable 能发生拖动的元素\r\n * @param $move 被拖动的元素\r\n */\r\nvar setDragMoving = function ($enable, $move) {\r\n\tvar isDraging = false;\r\n\tvar oldPosX, oldPosY, startPosX, startPosY;\r\n\t\r\n\t/**\r\n\t * 使浮出层保持在屏幕内\r\n\t * @param pos {Number} 浮出层的坐标\r\n\t * @param maxPos {Number} 浮出层的最大坐标\r\n\t * @returns {Number} 修正后的坐标\r\n\t */\r\n\tvar getPosInScreen = function (pos, maxPos) {\r\n\t\tif (pos < 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\telse if (pos > maxPos) {\r\n\t\t\treturn maxPos;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn pos;\r\n\t\t}\r\n\t};\r\n\t\r\n\t$enable.addEventListener('mousedown', function (event) {\r\n\t\tisDraging = true;\r\n\t\t//保存要移动的对象的当前位置\r\n\t\toldPosX = parseInt($move.style.left.split('px')[0]);\r\n\t\toldPosY = parseInt($move.style.top.split('px')[0]);\r\n\t\t//保存鼠标当前的位置\r\n\t\tstartPosX = event.screenX;\r\n\t\tstartPosY = event.screenY;\r\n\t\treturn false;       //防止浏览器选中内容\r\n\t});\r\n\t\r\n\twindow.addEventListener('mouseup', function () {\r\n\t\tisDraging = false;\r\n\t});\r\n\t\r\n\twindow.addEventListener('mousemove', function (event) {\r\n\t\tif (isDraging) {\r\n\t\t\t//当前坐标 = 开始拖动时浮出层的坐标 + 鼠标移动的坐标\r\n\t\t\tvar currentPosX = oldPosX + event.screenX - startPosX;\r\n\t\t\tvar currentPosY = oldPosY + event.screenY - startPosY;\r\n\t\t\t\r\n\t\t\t//最大拖动范围\r\n\t\t\tvar maxPosX = window.innerWidth - $move.offsetWidth;\r\n\t\t\tvar maxPosY = window.innerHeight - $move.offsetHeight;\r\n\t\t\t\r\n\t\t\t//修正当前坐标，使浮出层保持在屏幕内\r\n\t\t\tcurrentPosX = getPosInScreen(currentPosX, maxPosX);\r\n\t\t\tcurrentPosY = getPosInScreen(currentPosY, maxPosY);\r\n\t\t\t\r\n\t\t\t$move.style.left = currentPosX + 'px';\r\n\t\t\t$move.style.top = currentPosY + 'px';\r\n\t\t}\r\n\t});\r\n};\r\n\r\n/**\r\n * 获取某个radio选中的元素\r\n * @param radioName {String} 要获取的name属性\r\n * @returns {HTMLInputElement} 选中的元素\r\n */\r\nfunction getRadioCheckedElement(radioName) {\r\n\tvar $radios = document.getElementsByName(radioName);\r\n\tfor (var i = 0, item; item = $radios[i++];) {\r\n\t\tif (item.checked) {\r\n\t\t\treturn item;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * 遍历监听radio的change事件\r\n * @param radioName {String} 要监听的radio的name\r\n * @param callback {Function} 对change之后新选中的元素进行操作的回调，this指向新选中的元素\r\n */\r\nfunction listenRadioChange(radioName, callback) {\r\n\tvar $radios = document.getElementsByName(radioName);\r\n\tforEach($radios, function (item) {\r\n\t\titem.addEventListener('change', function () {\r\n\t\t\tif (this.checked) {\r\n\t\t\t\treturn callback.call(this, arguments);\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\r\n\r\n/**\r\n * 获取元素id后缀（第一个横杠“-”以后的内容）\r\n * @param id {string} 要获取后缀的id\r\n * @returns {string} id后缀\r\n */\r\nfunction getIdSuffix(id) {\r\n\tvar index = id.indexOf('-');\r\n\tif (index === -1) {\r\n\t\treturn id;\r\n\t} else {\r\n\t\treturn id.substring(index + 1);\r\n\t}\r\n}\r\n\r\n/*---------------------------------------------------------------------------*/\r\n/*---------------------------------------------------------------------------*/\r\n/*---------------------------------- Menu -----------------------------------*/\r\n/*---------------------------------------------------------------------------*/\r\n/*---------------------------------------------------------------------------*/\r\n\r\n/**\r\n * 遍历所有子菜单并执行操作\r\n * @param $ul {HTMLUIListElement} 菜单ul容器元素\r\n * @param callback {Function} 对每个子菜单执行操作的回调函数，传递该子菜单元素作为回调参数\r\n */\r\nfunction forEachMenu ($ul, callback) {\r\n\tvar $uls = $ul.children;\r\n\tforEach($uls, function (item) {\r\n\t\tif (item.children.length === 0) {\r\n\t\t\tcallback(item);\r\n\t\t} else {\r\n\t\t\tforEachMenu(item.querySelector('ul'), callback);\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/**\r\n * 给菜单绑定指令\r\n * @param $menuUl {HTMLUListElement} 要绑定的菜单列表\r\n * @param commandSet {Object} 要绑定的指令集\r\n */\r\nfunction bindMenuClick ($menuUl, commandSet) {\r\n\t//遍历菜单，给每项子菜单绑定指令集中的指令\r\n\tforEachMenu($menuUl, function (item) {\r\n\t\tvar id = item.id.search('-') ? getIdSuffix(item.id) : item.id;      //id值去前缀\r\n\t\tif (id && commandSet[id]) {\r\n\t\t\titem.onclick = function () {\r\n\t\t\t\tcommandSet[id]();\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\titem.onclick = function () {\r\n\t\t\t\talert('undefined Task');\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t//给二级菜单框绑定点击事件，在子菜单点击后的冒泡阶段隐藏此二级菜单\r\n\tvar $ul_2 = $menuUl.getElementsByTagName('ul');\r\n\tforEach($ul_2, function (item) { \r\n\t\titem.onclick = function () {\r\n\t\t\t// item.addClass('hide');\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/*---------------------------------------------------------------------------*/\r\n/*---------------------------------------------------------------------------*/\r\n/*--------------------------------- Window ----------------------------------*/\r\n/*---------------------------------------------------------------------------*/\r\n/*---------------------------------------------------------------------------*/\r\n\r\n/**\r\n * windowUI组件构造函数，生成windowUI组件对象\r\n * @param $window {Element} 窗口容器元素\r\n * @constructor\r\n */\r\nfunction WindowUI ($window) {\r\n\tthis.$window = $window;   //窗口本身元素\r\n\tthis.$elements = this.$window.children;   //窗口子元素集合\r\n\tthis.$titleBar = document.createElement('div');     //标题栏\r\n\tthis.$title = document.createElement('p');      //标题文本\r\n\r\n\t//Hook\r\n\tthis.hook = {\r\n\t\topen: [],\r\n\t\tclose: []\r\n\t}\r\n\r\n\tthis.$titleBar.className = 'title-bar';\r\n\r\n\tvar title = this.$window.id;\r\n\ttitle = title.replace(/([A-Z])/g, ' $1');\r\n\ttitle = title[0].toUpperCase() + title.substring(1);\r\n\tthis.$title.innerText = title;\r\n\r\n\t//关闭按钮\r\n\tvar $close = document.createElement('div');\r\n\t$close.className = 'close';\r\n\tvar _this = this;\r\n\t$close.onclick = function () {\r\n\t\t_this.close();\r\n\t};\r\n\r\n\t//构建DOM\r\n\tthis.$titleBar.appendChild(this.$title);\r\n\tthis.$titleBar.appendChild($close);\r\n\tthis.$window.insertBefore(this.$titleBar, this.$window.firstChild);\r\n\r\n\t//给窗口标题栏添加拖拽移动功能\r\n\tsetDragMoving(this.$titleBar, this.$window);\r\n}\r\n\r\nWindowUI.prototype = {\r\n\tconstructor: WindowUI,\r\n\t//窗口打开时，非窗口区域的覆盖块，用来屏蔽非窗口区域的交互\r\n\t$block: null,\r\n\t/**\r\n\t * 打开这个窗口\r\n\t * @param isCenter {Boolean} 打开时窗口是否居中（默认true)\r\n\t */\r\n\topen: function (isCenter) {\r\n\t\tthis.$window.style.display = 'block';\r\n\r\n\t\tif (WindowUI.prototype.$block) {\r\n\t\t\tthis.$block.style.display = 'block';\r\n\t\t} else {\r\n\t\t\tvar $block = document.createElement('div');\r\n\t\t\t$block.className = 'block-all';\r\n\t\t\tdocument.body.appendChild($block);\r\n\t\t\tWindowUI.prototype.$block = $block;\r\n\t\t}\r\n\t\t\r\n\t\tvar _this = this;\r\n\t\t\r\n\t\tif (isCenter === undefined || isCenter === true) {\r\n\t\t\t//让窗口居中\r\n\t\t\tthis.setCenter();\r\n\t\t}\r\n\t\t\r\n\t\t//点击非窗口区域时，闪烁窗口\r\n\t\tthis.$block.onclick = function () {\r\n\t\t\t_this.twinkle();\r\n\t\t};\r\n\t\t\r\n\t\tthis.hook.open && this.hook.open.forEach(function (callback) {\r\n\t\t\tcallback();\r\n\t\t})\r\n\t},\r\n\t/**\r\n\t * 关闭这个窗口\r\n\t */\r\n\tclose: function () {\r\n\t\tthis.$window.style.display = 'none';\r\n\t\tthis.$block.style.display = 'none';\r\n\t\t//修复类名，防止下次窗口刚出现就闪烁\r\n\t\tthis.$window.className = 'window';\r\n\t\tthis.$titleBar.className = 'title-bar';\r\n\r\n\t\tthis.hook.close && this.hook.close.forEach(function (callback) {\r\n\t\t\tcallback();\r\n\t\t})\r\n\t},\r\n\t/**\r\n\t * 查找窗口中的符合选择器的第一个元素\r\n\t * @param selector {String} 要查找元素的css选择器\r\n\t * @returns {Element} 找到的元素\r\n\t */\r\n\tfind: function (selector) {\r\n\t\treturn this.$window.querySelector(selector);\r\n\t},\r\n\r\n\t/**\r\n\t * 查找窗口中的符合选择器的所有元素\r\n\t * @param selector {String} 要查找元素的css选择器\r\n\t * @returns {HTMLCollection} 找到的元素集合\r\n\t */\r\n\tfindAll: function (selector) {\r\n\t\treturn this.$window.querySelectorAll(selector);\r\n\t},\r\n\r\n\t/**\r\n\t * 让这个窗口居中\r\n\t */\r\n\tsetCenter: function () {\r\n\t\tvar left = (window.innerWidth - this.$window.offsetWidth) / 2;\r\n\t\tvar top = (window.innerHeight - this.$window.offsetHeight) / 2;\r\n\t\tthis.$window.style.left = left + 'px';\r\n\t\tthis.$window.style.top = top + 'px';\r\n\t},\r\n\t/**\r\n\t * 闪烁窗口的标题栏和边框\r\n\t */\r\n\ttwinkle: function () {\r\n\t\tplayAnimation(this.$window, 'window', 'window twinkle-border');\r\n\t\tplayAnimation(this.$titleBar, 'title-bar', 'title-bar twinkle-title');\r\n\t},\r\n\r\n\ton: function (hook, callback) {\r\n\t\tthis.hook[hook].push(callback);\r\n\t}\r\n};\r\n\r\n/**\r\n * 获取所有窗口组件\r\n * @returns {{}} WindowUI对象列表\r\n */\r\nfunction getAllWindowUI () {\r\n\tvar windowUIList = {};\r\n\tvar $windows = $$('.window');\r\n\tforEach($windows, function (item) {\r\n\t\twindowUIList[item.id] = new WindowUI(item);\r\n\t});\r\n\treturn windowUIList;\r\n};\r\n\r\n\r\n/*---------------------------------------------------------------------------*/\r\n/*---------------------------------------------------------------------------*/\r\n/*--------------------------------- Tab ----------------------------------*/\r\n/*---------------------------------------------------------------------------*/\r\n/*---------------------------------------------------------------------------*/\r\n\r\nfunction Tab (tabId) {\r\n\tvar $tab = document.getElementById(tabId);\r\n\tthis.$tabList = $tab.querySelectorAll('ul>li');\r\n\tthis.$tabContentList = $tab.querySelectorAll('.tab-content>div');\r\n\tthis.currentId = 0;\r\n\t\r\n\tif (this.$tabList.length !== 0) {\r\n\t\tthis.switchTab(this.currentId);\r\n\t\tvar _this = this;\r\n\t\tforEach(this.$tabList, function (item, index) {\r\n\t\t\titem.onclick = function () {\r\n\t\t\t\t_this.switchTab(index);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nTab.prototype = {\r\n\tconstructor: Tab,\r\n\tswitchTab: function (id) {\r\n\t\tthis.$tabList[this.currentId].removeClass('checked');\r\n\t\tthis.$tabContentList[this.currentId].removeClass('checked');\r\n\t\tthis.currentId = id;\r\n\t\tthis.$tabList[this.currentId].addClass('checked');\r\n\t\tthis.$tabContentList[this.currentId].addClass('checked');\r\n\t}\r\n}\r\n\r\nfunction getAllTab() {\r\n\tvar $tabUIList = $$('.tab');\r\n\tvar tabUIList = [];\r\n\t\r\n\t$tabUIList && forEach($tabUIList, function (item) {\r\n\t\ttabUIList.push(new Tab(item));\r\n\t});\r\n\t\r\n\treturn tabUIList;\r\n}\r\n\r\n/*---------------------------------------------------------------------------*/\r\n/*---------------------------------------------------------------------------*/\r\n/*--------------------------------- Tree ------------------------------------*/\r\n/*---------------------------------------------------------------------------*/\r\n/*---------------------------------------------------------------------------*/\r\n\r\n// data 格式：\r\n// data = [\r\n// \t'demo.txt',     //item\r\n// \t'a',        //item\r\n//  //folder:\r\n// \t{\r\n// \t\tlabel: 'folder',\r\n// \t\tchildren: [\r\n// \t\t\t'a.mp4',\r\n// \t\t\t'b',\r\n// \t\t\t{\r\n// \t\t\t\t//folder\r\n// \t\t\t\tlabel: 'c',\r\n// \t\t\t\t[\r\n// \t\t\t\t\t'c0001',\r\n// \t\t\t\t\t'c0002',\r\n// \t\t\t\t\t'c0003'\r\n// \t\t\t\t]\r\n// \t\t\t}\r\n// \t\t]\r\n// \t},\r\n//  'd0001',\r\n//  'd0002'\r\n// ];\r\n\r\nfunction Tree(data) {\r\n\tthis.$tree = this.createTree(data);\r\n\tthis.$tree.className = 'tree';\r\n\tthis.$value = null;\r\n}\r\n\r\nTree.prototype = {\r\n\tconstructor: Tree,\r\n\tcreateItem: function (item) {\r\n\t\tvar $li = document.createElement('li'),\r\n\t\t\t$span = document.createElement('span'),\r\n\t\t\t_this = this;\r\n\t\t\r\n\t\t$span.innerText = item;\r\n\t\t$span.onclick = function() {\r\n\t\t\t_this.check(this);\r\n\t\t};\r\n\t\t$li.appendChild($span);\r\n\t\treturn $li;\r\n\t},\r\n\tcreateTree: function (data) {\r\n\t\tvar $ul = document.createElement('ul'),\r\n\t\t\t_this = this;\r\n\t\tforEach(data, function (item) {\r\n\t\t\tif (item.label) {\r\n\t\t\t\tvar $li = document.createElement('li'),\r\n\t\t\t\t\t$span = document.createElement('span');\r\n\t\t\t\t$span.className = 'folder';\r\n\t\t\t\t$span.innerText = item.label;\r\n\t\t\t\t$span.onclick = function() {\r\n\t\t\t\t\tthis.removeClass('expanded') || this.addClass('expanded');\r\n\t\t\t\t};\r\n\t\t\t\t$li.appendChild($span);\r\n\t\t\t\t$li.appendChild(_this.createTree(item.children));\r\n\t\t\t\t$ul.appendChild($li);\r\n\t\t\t} else {\r\n\t\t\t\t$ul.appendChild(_this.createItem(item));\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn $ul;\r\n\t},\r\n    /**\r\n\t * 选中元素更改事件\r\n     */\r\n\tonchange: function () {\r\n\r\n    },\r\n\t/**\r\n\t * 选中某项\r\n\t * @param $item {Element} 要选中的元素\r\n\t */\r\n\tcheck: function ($item) {\r\n\t\tthis.$value && this.$value.removeClass('checked');\r\n\t\tthis.$value = $item;\r\n\t\tthis.$value.addClass('checked');\r\n\t\tthis.onchange();\r\n\t},\r\n\t/**\r\n\t * 渲染树形组件到某个元素下面\r\n\t * @param $target {Element} 要存放树形组件的父节点，若没有指定则存放到body元素下\r\n\t */\r\n\trender: function ($target) {\r\n\t\t$target = $target || document.body;\r\n\t\t$target.appendChild(this.$tree);\r\n\t}\r\n};\r\n\r\n/*---------------------------------------------------------------------------*/\r\nvar windowUIList = getAllWindowUI();\r\n\r\nexport {\r\n\twindowUIList,\r\n\tbindMenuClick,\r\n\tgetIdSuffix\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/WebDesktop.js\n// module id = 1\n// module chunks = 0","import {$} from './element';\r\nimport Layer from './layer';\r\n\r\nElement.prototype.bindWhellOver = function (callback) {\r\n\tlet isOnOver = false;\r\n\tthis.onmouseover = function () {\r\n\t\tisOnOver = true;\r\n\t};\r\n\tthis.onmouseout = function () {\r\n\t\tisOnOver = false;\r\n\t};\r\n\twindow.onwheel = function (event) {\r\n\t\tif (isOnOver && callback) {\r\n\t\t\treturn callback.call(this, event);\r\n\t\t}\r\n\t};\r\n};\r\n\r\nfunction DesignBoard (src, fileName) {\r\n\tlet image = new Image();\r\n\tlet $titleBar = document.createElement('div');\r\n\tlet $title = document.createElement('span');\r\n\tlet $close = document.createElement('span');\r\n\tlet $board = document.createElement('div');\r\n\r\n\tlet initFillRate = 0.8;\r\n\r\n\tthis.$li = document.createElement('li');\r\n\tthis.$canvases = document.createElement('div');\r\n\tthis.fileName = fileName ? fileName : _getUrlFileName(src);\r\n\tthis.src = src;\r\n\tthis.scaling = 1;\r\n\r\n\t$title.innerText = adjustFileNameLength(this.fileName, 10);\r\n\t$title.addClass('title');\r\n\r\n\t$close.className = 'fa fa-times close';\r\n\r\n\t$titleBar.appendChild($title);\r\n\t$titleBar.appendChild($close);\r\n\t$titleBar.addClass('title-bar');\r\n\r\n    this.$canvases.addClass('canvases');\r\n\r\n\t$board.appendChild(this.$canvases);\r\n\t$board.addClass('board');\r\n\r\n\tthis.$li.appendChild($titleBar);\r\n\tthis.$li.appendChild($board);\r\n\t$('#design-boards ul').appendChild(this.$li);\r\n\r\n\timage.src = src;\r\n\tlet _this = this;\r\n\timage.onload = function () {\r\n\t    localStorage.setItem(this.fileName, src);\r\n        _this.createLayer(image);\r\n\t\t$('.canvas-size').innerText = image.width + '×' + image.height;\r\n\t\t_adjustImage();\r\n\t\tsetCenter();\r\n\t\twindow.addEventListener('resize', function () {\r\n\t\t\t_this.setCenter();\r\n\t\t});\r\n\t\t$('#menu-save').enable();\r\n\t\t$('#menu-saveAs').enable();\r\n\t\t_this.$canvases.onmousemove = function (event) {\r\n\t\t\tlet x = event.clientX - this.getViewOffsetLeft() + $board.scrollLeft,\r\n\t\t\t\ty = event.clientY - this.getViewOffsetTop() + $board.scrollTop;\r\n\t\t\t$('#pos-x').innerText = Math.round(x / _this.scaling);\r\n\t\t\t$('#pos-y').innerText = Math.round(y / _this.scaling);\r\n\t\t};\r\n\t\t_this.$li.addEventListener('click', function () {\r\n            designBoardDirector.switchTo(_this);\r\n        }, false);\r\n\t\t$close.addEventListener('click', function (event) {\r\n            _this.close();\r\n            event.stopPropagation();\r\n        }, false);\r\n\t};\r\n\r\n    image.addEventListener('error', function () {\r\n        alert(\"Loading image failed, please try again, or try other ways.\");\r\n    }, false);\r\n\r\n    /**\r\n     * 从网址中获取文件名\r\n     *\r\n     * @param {string} url 网址\r\n     * @returns 文件名\r\n     */\r\n    function _getUrlFileName(url) {\r\n        let slashIndex = url.lastIndexOf('/');\r\n        return url.substring(slashIndex + 1);\r\n    }\r\n\r\n    function adjustFileNameLength (fileName, maxLength) {\r\n        let pointIndex = fileName.lastIndexOf('.');\r\n        let name = fileName.substring(0, pointIndex);\r\n        let nameEx = fileName.substring(pointIndex + 1);\r\n        if (name.length > maxLength) {\r\n            name = name.substr(0, maxLength) + '... ';\r\n        }\r\n        if (nameEx.length > 4) {\r\n            nameEx = nameEx.substr(0, 4);\r\n        }\r\n        return name + '.' + nameEx;\r\n    }\r\n\r\n    function _adjustImage () {\r\n        let width = _this.$canvases.offsetWidth,\r\n            height = _this.$canvases.offsetHeight,\r\n            maxWidth = $board.offsetWidth * initFillRate,\r\n            maxHeight = $board.offsetHeight * initFillRate,\r\n            sizeRate = width / height,\r\n            maxSizeRate = maxWidth / maxHeight;\r\n\r\n        if (width > maxWidth && height > maxHeight) {\r\n            //如果宽高都超过限制，取宽高中最大值，按比例缩放至符合要求的最大尺寸\r\n            if (sizeRate >= maxSizeRate) {\r\n                _this.scaling = maxWidth / width;\r\n            } else {\r\n                _this.scaling = maxHeight / height;\r\n            }\r\n        } else if (width > maxWidth) {\r\n            _this.scaling = maxWidth / width;\r\n        } else if (height > maxHeight) {\r\n            _this.scaling = maxHeight / height;\r\n        }\r\n        _this.scale(_this.scaling);\r\n    }\r\n\r\n    function setCenter () {\r\n        let left = ($board.clientWidth - _this.$canvases.clientWidth * _this.scaling) / 2;\r\n        let top = ($board.clientHeight - _this.$canvases.clientHeight * _this.scaling) / 2;\r\n        if (left < 0) {\r\n            left = 0;\r\n        }\r\n        if (top < 0) {\r\n            top = 0;\r\n        }\r\n        _this.$canvases.style.marginLeft = left + 'px';\r\n        _this.$canvases.style.marginTop = top + 'px';\r\n    }\r\n\r\n    $board.bindWhellOver(function (event) {\r\n        if (event.ctrlKey) {\r\n            //如果ctrl键按下，滑动滚轮左右移动画布\r\n            if (event.deltaY > 0) {\r\n                this.scrollLeft += 200;\r\n            } else {\r\n                this.scrollLeft -= 200;\r\n            }\r\n            return false;\r\n        } else if (event.altKey) {\r\n            //如果alt键按下，缩放画布\r\n            let x = event.clientX - _this.$canvases.getViewOffsetLeft(),\r\n                y = event.clientY - _this.$canvases.getViewOffsetTop();\r\n            if (event.deltaY > 0) {\r\n                _this.scalingUp(-0.2, x, y);\r\n            } else {\r\n                _this.scalingUp(0.2, x, y);\r\n            }\r\n            return false;\r\n        }\r\n    });\r\n}\r\n\r\nDesignBoard.prototype = {\r\n\tconstructor: DesignBoard,\r\n    layers: [],\r\n    $scale: $('.canvas-scale'),\r\n\tclose: function () {\r\n\t\tthis.$li.parentElement.removeChild(this.$li);\r\n\t\tdesignBoardDirector.remove(this);\r\n\t},\r\n\tscale: function (scaling) {\r\n\t    this.scaling = scaling;\r\n\t\tthis.$canvases.style.transform = 'scale(' + scaling + ')';\r\n\t\tthis.$scale.innerText = ((scaling * 100).toFixed(2)) + '%';\r\n\t},\r\n    scalingUp: function (increment, centerX, centerY) {\r\n        if (increment && typeof increment === 'number') {\r\n            let oldscaling = this.scaling;\r\n            this.scaling += increment;\r\n            this.scale(this.scaling);\r\n            // if (x && y) {\r\n            //     $view.scrollLeft = scaling * ($view.scrollLeft + centerX) / oldscaling - centerX;\r\n            //     $view.scrollTop = scaling * ($view.scrollTop + centerY) / oldscaling - centerY;\r\n            // }\r\n            // if ($canvas.offsetWidth <= $view.offsetWidth) {\r\n            // \t$view.addClass('disable-scroll-x');\r\n            // } else {\r\n            // \t$view.removeClass('disable-scroll-x');\r\n            // }\r\n            // if ($canvas.offsetHeight <= $view.offsetHeight) {\r\n            // \t$view.addClass('disable-scroll-y');\r\n            // } else {\r\n            // \t$view.removeClass('disable-scroll-y');\r\n            // }\r\n        }\r\n    },\r\n    createLayer: function (image) {\r\n        this.layers.push(new Layer(this.$canvases, image));\r\n    },\r\n    save: function () {\r\n        // .$canvas.toDataURL('image/' + format[imageFormat]);\r\n    }\r\n};\r\n\r\nlet designBoardDirector = (function () {\r\n    let _designBoards = [];\r\n    let current = null;\r\n\r\n    function create (src, fileName) {\r\n        let designBoard,\r\n            isOpened = false;\r\n        _designBoards.forEach(function (designBoard) {\r\n            if (designBoard.src === src) {\r\n                alert('This file has been opened!');\r\n                isOpened = true;\r\n            }\r\n        });\r\n        if (isOpened) {\r\n            return false;\r\n        }\r\n        designBoard = new DesignBoard(src, fileName);\r\n        _designBoards.push(designBoard);\r\n        switchTo(designBoard);\r\n    }\r\n    function switchTo(designBoard) {\r\n        if (current) {\r\n            current.$li.removeClass('active');\r\n        }\r\n        current = designBoard;\r\n        designBoard.$li.addClass('active');\r\n    }\r\n\r\n    function remove(designBoard) {\r\n        let index =_designBoards.indexOf(designBoard);\r\n        _designBoards.splice(index, 1);\r\n        current = null;\r\n        if (_designBoards[index]) {\r\n            switchTo(_designBoards[index]);\r\n        } else if (_designBoards[index - 1]) {\r\n            switchTo(_designBoards[index - 1]);\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return {\r\n        current: current,\r\n        create: create,\r\n        switchTo: switchTo,\r\n        remove: remove\r\n    };\r\n})();\r\n\r\nexport default designBoardDirector;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/designBoard.js\n// module id = 2\n// module chunks = 0","/**\r\n * Created by vimcaw on 2017/5/27.\r\n */\r\n\r\nimport './style.css';\r\nimport './windowsUI.css';\r\nimport './iconfont/iconfont.css';\r\nimport './font-awesome-4.7.0/css/font-awesome.min.css';\r\nimport './color-picker/color-picker.min.css';\r\n\r\nimport './element';\r\nimport './start';\r\nimport './common';\r\nimport './tool';\r\n\r\nimport {$, $$} from './element';\r\nimport {bindMenuClick, getIdSuffix, windowUIList} from './WebDesktop';\r\nimport hotkey from './hotkey';\r\nimport designBoardDirector from './designBoard';\r\n\r\nfunction getlimitSize($img, maxWidth, maxHeight) {\r\n\tvar width = $img.width,\r\n\t\theight = $img.height;\r\n\t\r\n\tif (width > maxWidth && height > maxHeight) {\r\n\t\t//如果宽高都超过限制，取宽高中最大值，按比例缩放至符合要求的最大尺寸\r\n\t\tvar rate = width / height;\r\n\t\tvar max = Math.max(width, height);\r\n\t\tif (max == width) {\r\n\t\t\twidth = maxWidth;\r\n\t\t\theight = maxWidth / rate;\r\n\t\t} else {\r\n\t\t\theight = maxHeight;\r\n\t\t\twidth = maxHeight * rate;\r\n\t\t}\r\n\t} else if (width > maxWidth) {\r\n\t\twidth = maxWidth;\r\n\t} else if (height > maxHeight) {\r\n\t\theight = maxHeight;\r\n\t}\r\n\t\r\n\treturn {\r\n\t\twidth: width,\r\n\t\theight: height\r\n\t};\r\n}\r\n\r\nfunction limitImageSize($img, maxWidth, maxHeight) {\r\n\tvar size = getlimitSize($img, maxWidth, maxHeight);\r\n\t$img.width = size.width;\r\n\t$img.height = size.height;\r\n}\r\n\r\nvar commandSet = {\r\n\topenFromLocal: function () {\r\n\t\tif (!FileReader) {\r\n\t\t\tvar windowError = windowUIList.canNotReadLocalFile;\r\n\t\t\treturn windowError.open();\r\n\t\t}\r\n\t\tvar inpFile = document.createElement('input');\r\n\t\tinpFile.type = 'file';\r\n\t\tinpFile.className = 'hide';\r\n\t\tdocument.body.appendChild(inpFile);\r\n\t\tinpFile.click();\r\n\t\tinpFile.onchange = function () {\r\n\t\t\tif (this.value) {\r\n\t\t\t\tvar reader = new FileReader(),\r\n\t\t\t\t\tfile = this.files[0];\r\n\t\t\t\treader.readAsDataURL(file);\r\n\t\t\t\treader.onload = function() {\r\n\t\t\t\t\tdesignBoardDirector.create(this.result, file.name);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\topenFromUrl: function () {\r\n\t\tvar windowForm = windowUIList.openWebPicture;\r\n\t\twindowForm.open();\r\n\t\twindowForm.find('#preview').onclick = function () {\r\n\t\t\tvar $img = windowForm.find('img');\r\n\t\t\t$img.src = windowForm.find('input').value;\r\n\t\t\t$img.onload = function () {\r\n\t\t\t\tlimitImageSize(this, 500, 300);\r\n\t\t\t\twindowForm.setCenter();\r\n\t\t\t}\r\n\t\t};\r\n\t\twindowForm.find('#confirm').onclick = function () {\r\n            designBoardDirector.create(windowForm.find('input').value);\r\n\t\t\twindowForm.close();\r\n\t\t};\r\n\t},\r\n\tsave: function () {\r\n\t\tvar downloader = document.createElement('a'),\r\n\t\t\timageName = '',\r\n\t\t\timageFormat = '',\r\n\t\t\tformat = {\r\n\t\t\t\tpng: 'png',\r\n\t\t\t\tjpg: 'jpeg',\r\n\t\t\t\twebp: 'webp'\r\n\t\t\t};\r\n\t\timageName = view.fileName;\r\n\t\tvar result = view.fileName.match(/\\..+/g);\r\n\t\timageFormat = result && result[result.length - 1].substring(1);\r\n\t\tdownloader.download = imageName;\r\n\r\n\t\tdownloader.href = designBoardDirector.current.$canvas.toDataURL('image/' + format[imageFormat]);\r\n\t\tdocument.body.appendChild(downloader);\r\n\t\tdownloader.click();\r\n\t},\r\n\tabout: function () {\r\n\t\twindowUIList.about.open();\r\n\t}\r\n};\r\n\r\n/**\r\n * 窗口操作指令集\r\n * @type {{full-screen: windowCommand.full-screen}}\r\n */\r\nvar windowCommand = {\r\n\t'full-screen': function () {\r\n\t\tvar fullscreenElement = document.fullscreenElement ||\r\n\t\t\tdocument.mozFullScreenElement ||\r\n\t\t\tdocument.webkitFullscreenElement;\r\n\t\t\r\n\t\tif (fullscreenElement) {\r\n\t\t\tfullScreen.exitFullscreen(document.documentElement);\r\n\t\t} else {\r\n\t\t\tfullScreen.launchFullscreen(document.documentElement);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/**\r\n * 给窗口操作按钮添加指令\r\n * @param $windowControlUl {HTMLUListElement} 要绑定的按钮列表\r\n * @param command {Object} 要添加的指令集\r\n */\r\nvar bindWindowControlClick = function ($windowControlUl, commandSet) {\r\n\tvar $uls = $windowControlUl.children;\r\n\t$uls.forEach(function (item) {\r\n\t\tvar id = getIdSuffix(item.id);\r\n\t\tif (id && commandSet[id]) {\r\n\t\t\titem.onclick = function () {\r\n\t\t\t\tcommandSet[id]();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t});\r\n};\r\n\r\n\r\n\r\nvar defaultKeymap = {\r\n\tmenu: {\r\n\t\tnew: '',\r\n\t\topenFromLocal: 'Ctrl+O'\r\n\t},\r\n\ttool: {\r\n\t\tmove: 'V',\r\n\t\tcrop: 'C',\r\n\t\teyedropper: 'I',\r\n\t\tblush: 'B',\r\n\t\teraser: 'E',\r\n\t\ttext: 'T',\r\n\t\trect: 'U',\r\n\t\thand: 'H',\r\n\t\tzoom: 'Z'\r\n\t},\r\n\tcolor: {\r\n\t\treset: 'D',\r\n\t\texchange: 'X'\r\n\t}\r\n};\r\n\r\nbindMenuClick($('.menu'), commandSet);\r\nbindWindowControlClick($('.window-control'), windowCommand);\r\nwindow.oncontextmenu = function () {\r\n\treturn false;\r\n};\r\n\r\nhotkey.loadKeymap(defaultKeymap);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pixelshop.js\n// module id = 3\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/style.css\n// module id = 4\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/windowsUI.css\n// module id = 5\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/iconfont/iconfont.css\n// module id = 6\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/font-awesome-4.7.0/css/font-awesome.min.css\n// module id = 7\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/color-picker/color-picker.min.css\n// module id = 8\n// module chunks = 0","import {$} from './element';\r\n\r\n$('#welcome-openFromLocal').addEventListener('click', function () {\r\n    $('#menu-openFromLocal').click();\r\n    $('#welcome').addClass('hide');\r\n});\r\n\r\n$('#welcome-openFromUrl').addEventListener('click', function () {\r\n    $('#menu-openFromUrl').click();\r\n    $('#welcome').addClass('hide');\r\n});\r\n\r\nfunction createRecentFile(src, fileName, date) {\r\n    let $li = document.createElement('li'),\r\n        $div = document.createElement('div'),\r\n        $img = document.createElement('img'),\r\n        $fileName = document.createElement('p'),\r\n        $date = document.createElement('p');\r\n    $img.src = src;\r\n    $div.className = 'info';\r\n    $fileName.innerText = fileName;\r\n    $fileName.className = 'file-name';\r\n    $date.innerText = date;\r\n    $date.className = 'date';\r\n    $div.appendChild($fileName);\r\n    $div.appendChild($date);\r\n    $li.appendChild($img);\r\n    $li.appendChild($div);\r\n    $('.recent-file ul').appendChild($li);\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/start.js\n// module id = 9\n// module chunks = 0","/**\r\n * Created by 10399 on 2017/5/29.\r\n */\r\n\r\n\r\n\r\n/**\r\n * 让浏览器全屏的函数\r\n * @type {{launchFullscreen: fullScreen.launchFullscreen, exitFullscreen: fullScreen.exitFullscreen}}\r\n */\r\nvar fullScreen = {\r\n\tlaunchFullscreen: function (element) {\r\n\t\tif(element.requestFullscreen) {\r\n\t\t\telement.requestFullscreen();\r\n\t\t} else if(element.mozRequestFullScreen) {\r\n\t\t\telement.mozRequestFullScreen();\r\n\t\t} else if(element.msRequestFullscreen){\r\n\t\t\telement.msRequestFullscreen();\r\n\t\t} else if(element.webkitRequestFullscreen) {\r\n\t\t\telement.webkitRequestFullScreen();\r\n\t\t}\r\n\t},\r\n\texitFullscreen: function () {\r\n\t\tif (document.exitFullscreen) {\r\n\t\t\tdocument.exitFullscreen();\r\n\t\t} else if (document.msExitFullscreen) {\r\n\t\t\tdocument.msExitFullscreen();\r\n\t\t} else if (document.mozCancelFullScreen) {\r\n\t\t\tdocument.mozCancelFullScreen();\r\n\t\t} else if (document.webkitExitFullscreen) {\r\n\t\t\tdocument.webkitExitFullscreen();\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/**\r\n * 使某个元素可以被鼠标拖动来改变位置\r\n * @param $enable 能发生拖动的元素\r\n * @param $move 被拖动的元素\r\n */\r\nvar setDragMoving = function ($enable, $move) {\r\n\tvar isDraging = false;\r\n\tvar oldPosX, oldPosY, startPosX, startPosY;\r\n\t\r\n\t/**\r\n\t * 使浮出层保持在屏幕内\r\n\t * @param pos {Number} 浮出层的坐标\r\n\t * @param maxPos {Number} 浮出层的最大坐标\r\n\t * @returns {Number} 修正后的坐标\r\n\t */\r\n\tvar getPosInScreen = function (pos, maxPos) {\r\n\t\tif (pos < 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\telse if (pos > maxPos) {\r\n\t\t\treturn maxPos;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn pos;\r\n\t\t}\r\n\t};\r\n\t\r\n\t$enable.addEventListener('mousedown', function (event) {\r\n\t\tisDraging = true;\r\n\t\t//保存要移动的对象的当前位置\r\n\t\toldPosX = parseInt($move.style.left.split('px')[0]);\r\n\t\toldPosY = parseInt($move.style.top.split('px')[0]);\r\n\t\t//保存鼠标当前的位置\r\n\t\tstartPosX = event.screenX;\r\n\t\tstartPosY = event.screenY;\r\n\t\treturn false;       //防止浏览器选中内容\r\n\t});\r\n\t\r\n\twindow.addEventListener('mouseup', function () {\r\n\t\tisDraging = false;\r\n\t});\r\n\t\r\n\twindow.addEventListener('mousemove', function (event) {\r\n\t\tif (isDraging) {\r\n\t\t\t//当前坐标 = 开始拖动时浮出层的坐标 + 鼠标移动的坐标\r\n\t\t\tvar currentPosX = oldPosX + event.screenX - startPosX;\r\n\t\t\tvar currentPosY = oldPosY + event.screenY - startPosY;\r\n\t\t\t\r\n\t\t\t//最大拖动范围\r\n\t\t\tvar maxPosX = window.innerWidth - $move.offsetWidth;\r\n\t\t\tvar maxPosY = window.innerHeight - $move.offsetHeight;\r\n\t\t\t\r\n\t\t\t//修正当前坐标，使浮出层保持在屏幕内\r\n\t\t\tcurrentPosX = getPosInScreen(currentPosX, maxPosX);\r\n\t\t\tcurrentPosY = getPosInScreen(currentPosY, maxPosY);\r\n\t\t\t\r\n\t\t\t$move.style.left = currentPosX + 'px';\r\n\t\t\t$move.style.top = currentPosY + 'px';\r\n\t\t}\r\n\t});\r\n};\r\n\r\n\r\n\r\n/**\r\n * 获取某个radio选中的元素\r\n * @param radioName {String} 要获取的name属性\r\n * @returns {HTMLInputElement} 选中的元素\r\n */\r\nfunction getRadioCheckedElement(radioName) {\r\n\tvar $radios = document.getElementsByName(radioName);\r\n\tfor (var i = 0, item; item = $radios[i++];) {\r\n\t\tif (item.checked) {\r\n\t\t\treturn item;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * 遍历监听radio的change事件\r\n * @param radioName {String} 要监听的radio的name\r\n * @param callback {Function} 对change之后新选中的元素进行操作的回调，this指向新选中的元素\r\n */\r\nfunction listenRadioChange(radioName, callback) {\r\n\tvar $radios = document.getElementsByName(radioName);\r\n\t$radios.forEach(function (item) {\r\n\t\titem.addEventListener('change', function () {\r\n\t\t\tif (this.checked) {\r\n\t\t\t\treturn callback.call(this, arguments);\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common.js\n// module id = 10\n// module chunks = 0","import {$, $$} from './element';\r\nimport color from './color';\r\nimport designBoardDirector from './designBoard';\r\nimport {getIdSuffix} from './WebDesktop';\r\n\r\nlet option = (function () {\r\n\tlet $option = $('.option'),\r\n\t\tcurrentTool = '',\r\n\t\t$currentOption = null,\r\n\t\t$currentToolDisplay = $('#current-tool');\r\n\treturn {\r\n\t\tswitchOption: function (toolId) {\r\n\t\t\t$currentToolDisplay.className = $('#tool-' + toolId).className;\r\n\t\t\t$currentOption && ($currentOption.className = '');\r\n\t\t\t$currentOption = $('#option-' + toolId);\r\n\t\t\t$currentOption && ($currentOption.className = 'actived');\r\n\t\t}\r\n\t}\r\n})();\r\n\r\nlet tool = (function () {\r\n\tlet currentTool = 'move',\r\n\t\ttoolCommandSet = null,\r\n\t\tisEnable = true;\r\n\r\n\tfunction _forEachEvents (isAdd) {\r\n\t\t// if (toolCommandSet && toolCommandSet[currentTool]) {\r\n\t\t// \tlet commands = toolCommandSet[currentTool],\r\n\t\t// \t\tkeys = Object.keys(commands.event),\r\n\t\t// \t\thandle;\r\n\t\t//\r\n\t\t// \tdesignBoardDirector.current.$canvases.style.cursor = commands.cursor ? commands.cursor : 'default';\r\n        //\r\n\t\t// \thandle = isAdd ? 'addEventListener' : 'removeEventListener';\r\n        //\r\n\t\t// \tkeys.forEach(function (item) {\r\n\t\t// \t\tif (item === 'keydown' || item === 'keyup') {\r\n\t\t// \t\t\twindow[handle](item, commands.event[item]);\r\n\t\t// \t\t} else {\r\n\t\t// \t\t\tdesignBoardDirector.current.$canvas[handle](item, commands.event[item]);\r\n\t\t// \t\t}\r\n\t\t// \t});\r\n\t\t// } else {\r\n         //    designBoardDirector.current.$canvases.style.cursor = 'default';\r\n\t\t// }\r\n\t}\r\n\r\n\tfunction switchTool(toolId) {\r\n\t\tif (! $('#tool-' + toolId)) return false;\r\n\t\tcurrentTool && $('#tool-' + currentTool).removeClass('checked');\r\n\t\t_forEachEvents(false);\r\n\t\tcurrentTool = toolId;\r\n        $('#tool-' + currentTool).addClass('checked');\r\n\t\toption.switchOption(toolId);\r\n\t\t_forEachEvents(true);\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction bindToolCommandSet(_toolCommandSet) {\r\n\t\ttoolCommandSet = _toolCommandSet;\r\n\t}\r\n\r\n\tfunction init() {\r\n\t\tswitchTool('move');\r\n\t\t$$('.tool>ul div').forEach(function (item) {\r\n\t\t\titem.onclick = function () {\r\n\t\t\t\tswitchTool(getIdSuffix(this.id));\r\n            };\r\n        });\r\n    }\r\n\r\n    init();\r\n\r\n\treturn {\r\n\t\tcurrentTool: '',\r\n\t\tswitchTool: switchTool,\r\n\t\tbindToolCommandSet: bindToolCommandSet,\r\n\t\tisEnable: isEnable\r\n\t};\r\n})();\r\n\r\nlet toolCommandSet = (function () {\r\n\tlet blush = {\r\n\t\tevent: {\r\n\t\t\tkeydown: function () {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tlet eyedropper = {\r\n\t\tcursor: 'none',\r\n\t\tevent: {\r\n\t\t\tclick: function (event) {\r\n\t\t\t\tlet x = $('#pos-x').innerText,\r\n\t\t\t\t\ty = $('#pos-y').innerText,\r\n\t\t\t\t\timageData = designBoardDirector.current.context.getImageData(x, y, 1, 1);\r\n\r\n\t\t\t\tcolor.setForeColor(color.RGB2HEX(imageData.data));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t};\r\n\r\n\tlet hand = (function () {\r\n\t\tlet _isKeyDown = false;\r\n\r\n\t\tfunction keydown (event) {\r\n\t\t\t_isKeyDown = true;\r\n\t\t}\r\n\r\n\t\tfunction mousemove (event) {\r\n\t\t\tif (_isKeyDown) {\r\n\t\t\t\t//\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tcursor: '-webkit-grab, grab',\r\n\t\t\tevent: {\r\n\t\t\t\tkeydown: keydown,\r\n\t\t\t\tmousemove:mousemove\r\n\t\t\t}\r\n\t\t};\r\n\t})();\r\n\r\n\tlet zoom = (function () {\r\n\t\tlet _isZoomIn = true,\r\n\t\t\t_scaleRate = 0.2,\r\n\t\t\tcursor = 'zoom-in';\r\n\t\tfunction click (event) {\r\n\t\t\tlet rate = _isZoomIn ? _scaleRate : (-1 * _scaleRate);\r\n\t\t\tdesignBoardDirector.current.scale(rate, event.clientX, event.clientY);\r\n\t\t}\r\n\t\tfunction keydown (event) {\r\n\t\t\tif (event.altKey) {\r\n\t\t\t\t_isZoomIn = false;\r\n\t\t\t\tdesignBoardDirector.current.$canvas.style.cursor = 'zoom-out';\r\n\t\t\t}\r\n\t\t\tevent.preventDefault();\r\n\t\t}\r\n\t\tfunction keyup () {\r\n\t\t\tif (!_isZoomIn) {\r\n\t\t\t\t_isZoomIn = true;\r\n\t\t\t\tdesignBoardDirector.current.$canvas.style.cursor = 'zoom-in';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tcursor: cursor,\r\n\t\t\tevent: {\r\n\t\t\t\tclick: click,\r\n\t\t\t\tkeydown : keydown,\r\n\t\t\t\tkeyup: keyup\r\n\t\t\t}\r\n\t\t}\r\n\t})();\r\n\r\n\treturn {\r\n\t\teyedropper: eyedropper,\r\n\t\thand: hand,\r\n\t\tzoom: zoom\r\n\t};\r\n})();\r\n\r\ntool.bindToolCommandSet(toolCommandSet);\r\n\r\nexport default tool;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/tool.js\n// module id = 11\n// module chunks = 0","import {$, $$} from './element';\r\nimport './color-picker/color-picker.min';\r\nimport {windowUIList} from './WebDesktop';\r\n\r\nString.prototype.forEach = NodeList.prototype.forEach;\r\n\r\nexport var color = (function () {\r\n\tvar _foreColor = '000000',\r\n\t\t_backColor = 'ffffff',\r\n\t\t_$foreColorDisplay = $('#fore-color'),\r\n\t\t_$backColorDisplay = $('#back-color');\r\n\r\n\tvar HSV2RGB = CP.HSV2RGB,\r\n\t\tHSV2HEX = CP.HSV2HEX,\r\n\t\tRGB2HSV = CP.RGB2HSV,\r\n\t\tRGB2HEX = CP.RGB2HEX,\r\n\t\tHEX2HSV = CP.HEX2HSV,\r\n\t\tHEX2RGB = CP.HEX2RGB;\r\n\r\n\tvar colorPicker = (function () {\r\n\t\tvar picker = new CP($('#colorPicker #picker-UI'), false),\r\n\t\t\twindowForm = windowUIList.colorPicker,\r\n\t\t\t_colorType = '',\r\n\t\t\t_tempColor = '';\r\n\t\t\r\n\t\tpicker.picker.classList.add('static');\r\n\r\n\t\tpicker.setH = function (h) {\r\n\t\t\t\r\n\t\t}\r\n\t\t\t\r\n\t\twindowForm.find('.cancel').addEventListener('click', function () {\r\n\t\t\tclose();\r\n\t\t});\r\n\r\n\t\twindowForm.on('close', function () {\r\n\t\t\tpicker.off('change');\r\n\t\t});\r\n\r\n\t\twindowForm.find('.confirm').addEventListener('click', function () {\r\n\t\t\tif (_colorType === 'foreColor') {\r\n\t\t\t\tsetForeColor(_tempColor);\r\n\t\t\t} else if (_colorType === 'backColor') {\r\n\t\t\t\tsetBackColor(_tempColor);\r\n\t\t\t}\r\n\t\t\tclose();\r\n\t\t});\r\n\r\n\t\tfunction limitRange (value, min, max) {\r\n\t\t\tif (value > max) {\r\n\t\t\t\treturn max;\r\n\t\t\t} else if (value < min || value === NaN) {\r\n\t\t\t\treturn min;\r\n\t\t\t} else {\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\twindowForm.findAll('input').forEach(function ($input) {\r\n\t\t\t$input.oninput = $input.onpaste = $input.oncut = $input.onkeyup = function (event) {\r\n\t\t\t\tvar id = $input.id.substring(6);\r\n\t\t\t\tif (id === \"r\" || id === \"g\" || id === 'b') {\r\n\t\t\t\t\t$input.value = limitRange($input.value, 0, 255);\r\n\t\t\t\t} else if (id === 'h') {\r\n\t\t\t\t\t$input.value = limitRange($input.value, 0, 360);\r\n\t\t\t\t} else if (id === 's' || id === 'v') {\r\n\t\t\t\t\t$input.value = limitRange($input.value, 0, 100);\r\n\t\t\t\t} else if (id === 'hex') {\r\n\t\t\t\t\tif ($input.value.length > 6) {\r\n\t\t\t\t\t\t$input.value = $input.value.substring(0, 5);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet hex = '';\r\n\t\t\t\t\t$input.value.forEach(function (char, index) {\r\n\t\t\t\t\t\tif (isNaN(parseInt(char))) {\r\n\t\t\t\t\t\t\thex += limitRange(char, 'a', 'f');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\thex += char;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$input.value = hex;\r\n\t\t\t\t\tif ($input.value.length < 6) return;\r\n\t\t\t\t}\r\n\t\t\t\t_updateColor(this);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tfunction _updateData (color) {\r\n\t\t\tvar rgb = HEX2RGB(color),\r\n\t\t\t\thsv = HEX2HSV(color);\r\n\r\n\t\t\twindowForm.find('#color-current').style.backgroundColor = '#' + color;\r\n\r\n\t\t\twindowForm.find('#input-hex').value = color;\r\n\r\n\t\t\twindowForm.find('#input-r').value = rgb[0];\r\n\t\t\twindowForm.find('#input-g').value = rgb[1];\r\n\t\t\twindowForm.find('#input-b').value = rgb[2];\r\n\r\n\t\t\twindowForm.find('#input-h').value = hsv[0];\r\n\t\t\twindowForm.find('#input-s').value = hsv[1];\r\n\t\t\twindowForm.find('#input-v').value = hsv[2];\r\n\r\n\t\t\t_tempColor = color;\r\n\t\t}\r\n\r\n\t\tfunction _updateColor ($input) {\r\n\t\t\tvar id = $input.id.substring(6);\r\n\t\t\tif (id === \"r\" || id === \"g\" || id === 'b') {\r\n\t\t\t\tlet r = $('#input-r').value,\r\n\t\t\t\t\tg = $('#input-g').value,\r\n\t\t\t\t\tb = $('#input-b').value;\r\n\t\t\t\tpicker.set('rgb(' + r + ', ' + g + ', ' + b + ')');\r\n\t\t\t\t_updateData(RGB2HEX([r, g, b]));\r\n\t\t\t} else if (id === 'h' || id === 's' || id === 'v') {\r\n\t\t\t\tlet h = $('#input-h').value,\r\n\t\t\t\t\ts = $('#input-s').value,\r\n\t\t\t\t\tv = $('#input-v').value;\r\n\t\t\t\tpicker.set('#' + HSV2HEX([h, s, v]));\r\n\t\t\t\t_updateData(HSV2HEX([h, s, v]));\r\n\t\t\t} else if (id === 'hex') {\r\n\t\t\t\tpicker.set('#' + $input.value);\r\n\t\t\t\t_updateData($input.value);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction open (colorType) {\r\n\t\t\t_colorType = colorType\r\n\t\t\twindowForm.open();\r\n\r\n\t\t\tvar beforeColor = '';\r\n\r\n\t\t\twindowForm.open();\r\n\r\n\t\t\tif (colorType === 'foreColor') {\r\n\t\t\t\tbeforeColor = _foreColor;\r\n\t\t\t} else if (colorType === 'backColor') {\r\n\t\t\t\tbeforeColor = _backColor;\r\n\t\t\t}\r\n\r\n\t\t\tpicker.set('#' + beforeColor);\r\n\t\t\twindowForm.find('#color-before').style.backgroundColor = '#' + beforeColor;\r\n\t\t\t_updateData(beforeColor);\r\n\t\t\t\r\n\t\t\tpicker.enter(windowForm.find('#picker-UI'));\r\n\t\t\tpicker.on('change', function (color) {\r\n\t\t\t\t_tempColor = color;\r\n\t\t\t\t_updateData(color);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction close () {\r\n\t\t\twindowForm.close();\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\topen: open,\r\n\t\t\tclose: close\r\n\t\t};\r\n\t})();\r\n\r\n\tfunction getForeColor () {\r\n\t\treturn _foreColor;\r\n\t}\r\n\r\n\tfunction getBackColor () {\r\n\t\treturn _backColor;\r\n\t}\r\n\t\r\n\tfunction setForeColor (color) {\r\n\t\t_foreColor = color;\r\n\t\t_$foreColorDisplay.style.backgroundColor = '#' + color;\r\n\t}\r\n\r\n\tfunction setBackColor (color) {\r\n\t\t_backColor = color;\r\n\t\t_$backColorDisplay.style.backgroundColor = '#' + color;\r\n\t}\r\n\r\n\tfunction getComplementaryColor (hexColor) {\r\n\t\tvar color = HEX2RGB(hexColor),\r\n\t\t\tcomplementaryColor = [];\r\n\r\n\t\tcolor.forEach(function (item, index) {\r\n\t\t\tcomplementaryColor[index] = 255 - item;\r\n\t\t});\r\n\r\n\t\treturn RGB2HEX(complementaryColor);\r\n\t}\r\n\r\n\tfunction getGrayScale (hexColor) {\r\n\t\tvar color = HEX2RGB(hexColor);\r\n\t\treturn (color[0]*38 + color[1]*75 + color[2]*15) >> 7;\r\n\t}\r\n\r\n\tfunction getGrayScaleColor (grayScale) {\r\n\t\treturn RGB2HEX([grayScale, grayScale, grayScale]);\r\n\t}\r\n\r\n\t(function init () {\r\n\t\t$('#fore-color').addEventListener('click', function () {\r\n\t\t\tcolorPicker.open('foreColor');\r\n\t\t});\r\n\t\t$('#back-color').addEventListener('click', function () {\r\n\t\t\tcolorPicker.open('backColor');\r\n\t\t});\r\n\t\t$('#color-reset').addEventListener('click', function () {\r\n\t\t\tsetForeColor('000000');\r\n\t\t\tsetBackColor('ffffff');\r\n\t\t});\r\n\t\t$('#color-exchange').addEventListener('click', function () {\r\n\t\t\tvar temp = _foreColor;\r\n\t\t\tsetForeColor(_backColor);\r\n\t\t\tsetBackColor(temp);\r\n\t\t})\r\n\t})();\r\n\r\n\treturn {\r\n\t\tgetForeColor: getForeColor,\r\n\t\tgetBackColor: getBackColor,\r\n\t\tsetForeColor: setForeColor,\r\n\t\tsetBackColor: setBackColor,\r\n\t\tHSV2RGB: HSV2RGB,\r\n\t\tHSV2HEX: HSV2HEX,\r\n\t\tRGB2HSV: RGB2HSV,\r\n\t\tRGB2HEX: RGB2HEX,\r\n\t\tHEX2HSV: HEX2HSV,\r\n\t\tHEX2RGB: HEX2RGB,\r\n\t\tgetGrayScale: getGrayScale\r\n\t}\r\n})();\r\n\r\nexport default color;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/color.js\n// module id = 12\n// module chunks = 0","/*!\n * ==========================================================\n *  COLOR PICKER PLUGIN 1.3.5\n * ==========================================================\n * Author: Taufik Nurrohman <https://github.com/tovic>\n * License: MIT\n * ----------------------------------------------------------\n */\n!function(t,n,e){function r(t){return void 0!==t}function o(t){return\"string\"==typeof t}function i(t){return\"object\"==typeof t}function u(t){return Object.keys(t).length}function c(t,n,e){return n>t?n:t>e?e:t}function s(t,n){return parseInt(t,n||10)}function a(t){return Math.round(t)}function f(t){var n,e,r,o,i,u,c,s,f=+t[0],l=+t[1],h=+t[2];switch(o=Math.floor(6*f),i=6*f-o,u=h*(1-l),c=h*(1-i*l),s=h*(1-(1-i)*l),o=o||0,c=c||0,s=s||0,o%6){case 0:n=h,e=s,r=u;break;case 1:n=c,e=h,r=u;break;case 2:n=u,e=h,r=s;break;case 3:n=u,e=c,r=h;break;case 4:n=s,e=u,r=h;break;case 5:n=h,e=u,r=c}return[a(255*n),a(255*e),a(255*r)]}function l(t){return p(f(t))}function h(t){var n,e=+t[0],r=+t[1],o=+t[2],i=Math.max(e,r,o),u=Math.min(e,r,o),c=i-u,s=0===i?0:c/i,a=i/255;switch(i){case u:n=0;break;case e:n=r-o+c*(o>r?6:0),n/=6*c;break;case r:n=o-e+2*c,n/=6*c;break;case o:n=e-r+4*c,n/=6*c}return[n,s,a]}function p(t){var n=+t[2]|+t[1]<<8|+t[0]<<16;return n=\"000000\"+n.toString(16),n.slice(-6)}function v(t){return h(d(t))}function d(t){return 3===t.length&&(t=t.replace(/./g,\"$&$&\")),[s(t[0]+t[1],16),s(t[2]+t[3],16),s(t[4]+t[5],16)]}function g(t){return[+t[0]/360,+t[1]/100,+t[2]/100]}function y(t){return[a(360*+t[0]),a(100*+t[1]),a(100*+t[2])]}function x(t){return[+t[0]/255,+t[1]/255,+t[2]/255]}function m(t){if(i(t))return t;var n=/\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\\s*$/i.exec(t),e=/\\s*hsv\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*\\)\\s*$/i.exec(t),r=\"#\"===t[0]&&t.match(/^#([\\da-f]{3}|[\\da-f]{6})$/i);return r?v(t.slice(1)):e?g([+e[1],+e[2],+e[3]]):n?h([+n[1],+n[2],+n[3]]):[0,1,1]}var b=\"__instance__\",H=\"firstChild\",k=\"scrollLeft\",w=\"scrollTop\",E=\"offsetLeft\",X=\"offsetTop\",S=setTimeout;!function(t){t.version=\"1.3.5\",t[b]={},t.each=function(n,e){return S(function(){var e,r=t[b];for(e in r)n(r[e],e,r)},0===e?0:e||1),t},t.parse=m,t._HSV2RGB=f,t._HSV2HEX=l,t._RGB2HSV=h,t._HEX2HSV=v,t._HEX2RGB=function(t){return x(d(t))},t.HSV2RGB=function(t){return f(g(t))},t.HSV2HEX=function(t){return l(g(t))},t.RGB2HSV=function(t){return y(h(t))},t.RGB2HEX=p,t.HEX2HSV=function(t){return y(v(t))},t.HEX2RGB=d}(t[e]=function(s,a){function h(t,n,e){t=t.split(/\\s+/);for(var r=0,o=t.length;o>r;++r)n.addEventListener(t[r],e,!1)}function p(t,n,e){t=t.split(/\\s+/);for(var r=0,o=t.length;o>r;++r)n.removeEventListener(t[r],e)}function v(t,n){var e=n.touches?n.touches[0].pageX:n.pageX,r=n.touches?n.touches[0].pageY:n.pageY,o=d(t);return{x:e-o.l,y:r-o.t}}function d(n){if(n===t)var e=t.pageXOffset||T[k],r=t.pageYOffset||T[w];else for(var e=n[E],r=n[X];n=n.offsetParent;)e+=n[E],r+=n[X];return{l:e,t:r}}function g(t,n){for(;(t=t.parentElement)&&t!==n;);return t}function y(t){t&&t.preventDefault()}function x(n){return n===t?{w:t.innerWidth,h:t.innerHeight}:{w:n.offsetWidth,h:n.offsetHeight}}function m(t){return Y||(r(t)?t:!1)}function _(t){Y=t}function V(t,n,e){return r(t)?r(n)?(r(N[t])||(N[t]={}),r(e)||(e=u(N[t])),N[t][e]=n,j):N[t]:N}function B(t,n){return r(t)?r(n)?(delete N[t][n],j):(N[t]={},j):(N={},j)}function G(t,n,e){if(!r(N[t]))return j;if(r(e))r(N[t][e])&&N[t][e].apply(j,n);else for(var o in N[t])N[t][o].apply(j,n);return j}function R(t,n){t&&\"h\"!==t||G(\"change:h\",n),t&&\"sv\"!==t||G(\"change:sv\",n),G(\"change\",n)}function M(){return W.parentNode}function L(e,r){function o(t){var n=t.target,e=n===s||g(n,s)===s;e?L():j.exit(),G(e?\"enter\":\"exit\",[j])}function i(t){var n=(f(F),f([F[0],1,1]));K.style.backgroundColor=\"rgb(\"+n.join(\",\")+\")\",_(F),y(t)}function u(t){var n=c(v(J,t).y,0,S);F[0]=(S-n)/S,Q.style.top=n-T/2+\"px\",i(t)}function d(t){var n=v(K,t),e=c(n.x,0,V),r=c(n.y,0,B);F[1]=1-(V-e)/V,F[2]=(B-r)/B,U.style.right=V-e-O/2+\"px\",U.style.top=r-Y/2+\"px\",i(t)}function b(t){nn&&(u(t),sn=l(F),Z||(G(\"drag:h\",[sn,j]),G(\"drag\",[sn,j]),R(\"h\",[sn,j]))),en&&(d(t),sn=l(F),tn||(G(\"drag:sv\",[sn,j]),G(\"drag\",[sn,j]),R(\"sv\",[sn,j]))),Z=0,tn=0}function H(t){var n=t.target,e=nn?\"h\":\"sv\",r=[l(F),j],o=n===s||g(n,s)===s,i=n===W||g(n,W)===W;o||i?i&&(G(\"stop:\"+e,r),G(\"stop\",r),R(e,r)):M()&&a!==!1&&(j.exit(),G(\"exit\",[j]),R(0,r)),nn=0,en=0}function k(t){Z=1,nn=1,b(t),y(t),G(\"start:h\",[sn,j]),G(\"start\",[sn,j]),R(\"h\",[sn,j])}function w(t){tn=1,en=1,b(t),y(t),G(\"start:sv\",[sn,j]),G(\"start\",[sn,j]),R(\"sv\",[sn,j])}e||((r||C).appendChild(W),j.visible=!0),un=x(W).w,cn=x(W).h;var E=x(K),X=x(U),S=x(J).h,V=E.w,B=E.h,T=x(Q).h,O=X.w,Y=X.h;e?(W.style.left=W.style.top=\"-9999px\",a!==!1&&h(a,s,o),j.create=function(){return L(1),G(\"create\",[j]),j},j.destroy=function(){return a!==!1&&p(a,s,o),j.exit(),_(!1),G(\"destroy\",[j]),j}):$(),I=function(){F=m(F),i(),Q.style.top=S-T/2-S*+F[0]+\"px\",U.style.right=V-O/2-V*+F[1]+\"px\",U.style.top=B-Y/2-B*+F[2]+\"px\"},j.exit=function(){return M()&&(M().removeChild(W),j.visible=!1),p(P,J,k),p(P,K,w),p(z,n,b),p(A,n,H),p(D,t,$),j},I(),e||(h(P,J,k),h(P,K,w),h(z,n,b),h(A,n,H),h(D,t,$))}function $(){return j.fit()}var C=n.body,T=n.documentElement,j=this,O=t[e],Y=!1,N={},W=n.createElement(\"div\"),P=\"touchstart mousedown\",z=\"touchmove mousemove\",A=\"touchend mouseup\",D=\"orientationchange resize\";if(!(j instanceof O))return new O(s,a);O[b][s.id||s.name||u(O[b])]=j,r(a)||(a=P),_(O.parse(s.getAttribute(\"data-color\")||s.value||[0,1,1])),W.className=\"color-picker\",W.innerHTML='<div class=\"color-picker-control\"><span class=\"color-picker-h\"><i></i></span><span class=\"color-picker-sv\"><i></i></span></div>';var I,q=W[H].children,F=m([0,1,1]),J=q[0],K=q[1],Q=J[H],U=K[H],Z=0,tn=0,nn=0,en=0,rn=0,on=0,un=0,cn=0,sn=l(F);return L(1),S(function(){var t=[l(F),j];G(\"create\",t),R(0,t)},0),j.fit=function(n){var e=x(t),o=x(T),u=o.h>e.h,c=d(t),a=(d(T),u?o.w:e.w+c.l),f=u?e.h+c.t:Math.max(o.h,e.h),l=d(s);return rn=l.l,on=l.t+x(s).h,i(n)?(r(n[0])&&(rn=n[0]),r(n[1])&&(on=n[1])):(rn+un>a&&(rn=a-un),on+cn>f&&(on=f-cn)),W.style.left=rn+\"px\",W.style.top=on+\"px\",G(\"fit\",[j]),j},j.set=function(t){return r(t)?(o(t)&&(t=O.parse(t)),_(t),I(),j):m()},j.get=function(t){return m(t)},j.target=s,j.picker=W,j.visible=!1,j.on=V,j.off=B,j.trigger=G,j.hooks=N,j.enter=function(t){return L(0,t)},j})}(window,document,\"CP\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/color-picker/color-picker.min.js\n// module id = 13\n// module chunks = 0","export default function Layer($container, image) {\r\n    this.$canvas = document.createElement('canvas');\r\n    let context = this.$canvas.getContext('2d');\r\n    $container.appendChild(this.$canvas);\r\n    if (image) {\r\n        this.$canvas.width = image.width;\r\n        this.$canvas.height = image.height;\r\n        context.drawImage(image, 0, 0);\r\n    }\r\n}\r\n\r\nLayer.prototype = {\r\n    construct: Layer,\r\n    hide: function () {\r\n        this.$canvas.style.visibility = 'hidden';\r\n    }\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/layer.js\n// module id = 14\n// module chunks = 0","import {$, $$} from './element';\r\n\r\n/**\r\n* 快捷键对象，负责管理快捷键\r\n*/\r\nvar hotkey = (function () {\r\n   var _registeredHotkeys = [];\r\n\r\n   function addHotkeyHint (key, targetId) {\r\n       var $target = $('#' + targetId);\r\n       if (targetId.match(/menu-/) || $('.menu #' + targetId)) {\r\n           //给菜单项添加快捷键提示\r\n           let $hotkeyHint = document.createElement('span');\r\n           $hotkeyHint.className = 'hotkey-hint';\r\n           $hotkeyHint.innerText = key.replace(/(^[a-z]|\\b[a-z])/g, (match) => {return match.toUpperCase();});\r\n           $target.appendChild($hotkeyHint);\r\n           $target.addClass('hasHotkey');\r\n       } else {\r\n           //给按钮添加快捷键提示\r\n           $target.title += '(' + key + ')';\r\n       }\r\n   }\r\n\r\n   function registerHotkey (key, targetId) {\r\n       var testingKey = new RegExp(/^((Ctrl|ctrl|Alt|alt|Shift|shift)\\+)*[A-Za-z0-9]$/),\r\n           $target = $('#' + targetId),\r\n           stateKeys = key.match(/(Ctrl|ctrl|Alt|alt|Shift|shift)/),\r\n           mainKey = key.substring(key.length - 1);\r\n   \r\n       //如果此键已被注册过/格式不正确/指向得目标不存在，结束并返回false\r\n       if (_registeredHotkeys.includes(key) || !testingKey.test(key) || !$target) {\r\n           return false;\r\n       }\r\n   \r\n       document.addEventListener('keypress', function (event) {\r\n           var isStateKeysDown = true;\r\n           stateKeys && stateKeys.forEach(function (stateKey) {\r\n               isStateKeysDown = isStateKeysDown && event[stateKey.toLowerCase() + 'Key'];\r\n           })\r\n           if (isStateKeysDown && (event.key.toUpperCase() === mainKey.toUpperCase())) {\r\n               event.preventDefault();\r\n               $target.click();\r\n               return false;\r\n           }\r\n       }, false);\r\n\r\n       addHotkeyHint(key, targetId);\r\n       _registeredHotkeys.push(key);\r\n   }\r\n   \r\n   function loadKeymap (keymap) {\r\n       keymap && Object.keys(keymap).forEach(function (part) {\r\n           part && Object.keys(keymap[part]).forEach(function (command) {\r\n               registerHotkey(keymap[part][command], part + '-' + command);\r\n           })\r\n       })\r\n   }\r\n   \r\n   // function loadKeymapJSON (filePath) {\r\n   // \tvar xhr = new XMLHttpRequest();\r\n   // \txhr.onreadystatechange = function () {\r\n   // \t\tif (xhr.readyState === 4) {\r\n   // \t\t\tif ((xhr.status >= 200 && xhr.status < 300) || xhr.status === 304) {\r\n   // \t\t\t\talert(xhr.responseText);\r\n   // \t\t\t} else {\r\n   // \t\t\t\tconsole.log('request keymap.json failed, status: ' + xhr.status);\r\n   // \t\t\t}\r\n   // \t\t}\r\n   // \t}\r\n   // \txhr.open('data', filePath, true);\r\n   // \txhr.send(null);\r\n   // }\r\n\r\n   return {\r\n       registerHotkey: registerHotkey,\r\n       loadKeymap: loadKeymap,\r\n       addHotkeyHint: addHotkeyHint\r\n   }\r\n})();\r\n\r\nexport default hotkey;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/hotkey.js\n// module id = 15\n// module chunks = 0"],"sourceRoot":""}